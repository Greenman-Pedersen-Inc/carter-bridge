<html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>ArcGIS API for JavaScript Tutorials: Add a point, line, and polygon</title>
    <style>
        html,
        body,
        #viewDiv {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
        }

        .fp-Video {
            border: 1px double black;
            width: 100%;
            height: 200px;
        }

        .display {
            width: 100%;
            height: 100%;
            display: inline-block;
        }

        .display>video,
        object {
            width: 100%;
            height: 100%;
        }
    </style>
    <script type="text/javascript"
        src="https://flashphoner.com/downloads/builds/flashphoner_client/wcs_api-2.0/current/flashphoner.js"></script>
    <script type="text/javascript" src="player-min.js"></script>  
    <link rel="stylesheet" href="https://js.arcgis.com/4.23/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.23/"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script>
        require(["esri/Map", "esri/views/MapView", "esri/layers/FeatureLayer","esri/widgets/LayerList",
], (Map, MapView, FeatureLayer,LayerList) => {
            const map = new Map({
                basemap: "hybrid"
            });
            const template = {
                title: "{NAME}",
                content: " Parking lot would be closed on 4/30 7 am - 7 pm"
            }
            
            const view = new MapView({
                container: "viewDiv",
                map: map,
                center: [-81.643005, 38.357700], //Longitude, latitude
                zoom: 16,
            });
            

            /********************
             * Add feature layer
             ********************/
            const featureLayer = new FeatureLayer({
                url: "https://services1.arcgis.com/VLhaRwzp3uCQMr7y/ArcGIS/rest/services/mdx_2200023_00_Closures_Public_View/FeatureServer/0",
                title:"Closures"
            });

            // Creates actions in the LayerList.

        function defineActions(event) {
          // The event object contains an item property.
          // is is a ListItem referencing the associated layer
          // and other properties. You can control the visibility of the
          // item, its title, and actions using this object.

          const item = event.item;

        //   if (item.title === "US Demographics") {
        //     // An array of objects defining actions to place in the LayerList.
        //     // By making this array two-dimensional, you can separate similar
        //     // actions into separate groups with a breaking line.

        //     item.actionsSections = [
        //       [
        //         {
        //           title: "Go to full extent",
        //           className: "esri-icon-zoom-out-fixed",
        //           id: "full-extent"
        //         },
        //         {
        //           title: "Layer information",
        //           className: "esri-icon-description",
        //           id: "information"
        //         }
        //       ],
        //       [
        //         {
        //           title: "Increase opacity",
        //           className: "esri-icon-up",
        //           id: "increase-opacity"
        //         },
        //         {
        //           title: "Decrease opacity",
        //           className: "esri-icon-down",
        //           id: "decrease-opacity"
        //         }
        //       ]
        //     ];
        //   }

          // Adds a slider for updating a group layer's opacity
          if (item.children.length > 1 && item.parent) {
            const slider = new Slider({
              min: 0,
              max: 1,
              precision: 2,
              values: [1],
              visibleElements: {
                labels: true,
                rangeLabels: true
              }
            });
          }
        }

        view.when(() => {
          // Create the LayerList widget with the associated actions
          // and add it to the top-right corner of the view.

          const layerList = new LayerList({
            view: view,
            // executes for each ListItem in the LayerList
            listItemCreatedFunction: defineActions
          });

          // Add widget to the top right corner of the view
          view.ui.add(layerList, "top-left");
        });

            map.add(featureLayer);
            featureLayer.popupTemplate = template;

        });
    </script>
</head>

<body>
    <div class="container-fluid">
        <div class="row" style="height: 97vh;">
            <!-- <div id="menu" class="col-md-2">
                <h3>list of closures with dates​

                    Checkbox (turn on / off)​
                    
                    Eye button to zoom</h3>
            </div> -->
            <div class="col-md-12">
                <div id="viewDiv"></div>
            </div>
        </div>
    </div>
</body>

</html>